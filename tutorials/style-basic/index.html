
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>GeoScript &#8212; GeoScript</title>
    <link rel="stylesheet" href="../../_static/geoscript.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Getting Involved" href="../../get_involved.html" />
    <link rel="prev" title="Layers and Workspaces" href="../data-basic/index.html" />
    <script src="../../_static/site.js"></script>
    <script src="../../_static/jquery.cookie.js"></script>
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/smoothness/jquery-ui.css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/jquery-ui.min.js"></script>
    
    <script>$(site.prepPage);</script>
    

  </head><body>
    <div class="header">
        <div class="wrap">
            <h1 id="logo"><a href="../../index.html">GeoScript</a></h1>
            <ul id="top-nav">
                <li class="first"><a href="../../learning/index.html">Learning</a></li>
                <li class="first"><a href="../index.html">Tutorials</a></li>
                <li class="first"><a href="../../examples/index.html">Examples</a></li>
                <li><a href="../../js/index.html">JavaScript</a></li>
                <li><a href="../../py/index.html">Python</a></li>
                <li><a href="../../scala/index.html">Scala</a></li>
                <li><a href="../../groovy/index.html">Groovy</a></li>
            </ul>
            <div id="searchbox">
                <form class="search" action="../../search.html" method="get">
                    <input id="searchbox-query" type="text" name="q" size="25" value="Search &hellip;" tabindex="3" onblur="if(this.value=='') this.value='Search &hellip;';" onfocus="if(this.value=='Search &hellip;') this.value='';" />
                    <input id="searchbox-submit" type="image" value="Search" src="../../_static/img/search_icon_green.png" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
            </div>
            <div id="code-chooser">
                <h3>Language for Examples</h3>
                <div class="fg-buttonset fg-buttonset-single">
                    <button id="chooser-js" class="fg-button ui-state-default ui-priority-primary ui-corner-left">JavaScript</button>
                    <button id="chooser-py" class="fg-button ui-state-default ui-priority-primary ui-corner-right">Python</button>
                    <button id="chooser-scala" class="fg-button ui-state-default ui-priority-primary ui-corner-right">Scala</button>
                    <button id="chooser-groovy" class="fg-button ui-state-default ui-priority-primary ui-corner-right">Groovy</button>
                </div>
            </div>
            
        </div>
    </div>


      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
            <div id="code-chooser">
                <h3>Language for Examples</h3>
                <div class="fg-buttonset fg-buttonset-single">
                    <button id="chooser-js" class="fg-button ui-state-default ui-priority-primary ui-corner-left">JavaScript</button>
                    <button id="chooser-py" class="fg-button ui-state-default ui-priority-primary ui-corner-right">Python</button>
                    <button id="chooser-scala" class="fg-button ui-state-default ui-priority-primary ui-corner-right">Scala</button>
                    <button id="chooser-groovy" class="fg-button ui-state-default ui-priority-primary ui-corner-right">Groovy</button>
                </div>
            </div>
  

  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Styling and Rendering</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#symbolizers">Symbolizers</a></li>
<li><a class="reference internal" href="#thematic-styling">Thematic Styling</a></li>
<li><a class="reference internal" href="#scale-dependant-rendering">Scale Dependant Rendering</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../data-basic/index.html"
                        title="previous chapter">Layers and Workspaces</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../../get_involved.html"
                        title="next chapter">Getting Involved</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="styling-and-rendering">
<span id="tutorials-style-basic"></span><h1>Styling and Rendering<a class="headerlink" href="#styling-and-rendering" title="Permalink to this headline">¶</a></h1>
<p class="show-chooser rubric">code chooser</p>
<p>This tutorial introduces the modules used for styling and rendering, covering the following topics:</p>
<ul class="simple">
<li><p>Basic styling with symbolizers</p></li>
<li><p>Labelling</p></li>
<li><p>Thematic styling</p></li>
<li><p>Scale dependent rendering</p></li>
</ul>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../data-basic/index.html#tutorials-data-basic"><span class="std std-ref">Layers and Workspaces</span></a> tutorial must be completed before proceeding as the data set up
there will be used as the base of this tutorial.</p>
<p>Download <a class="reference external" href="http://data.opengeo.org/geoscript/smiley.png">smiley.png</a> and save it in the working directory.</p>
</div>
<div class="section" id="symbolizers">
<h2>Symbolizers<a class="headerlink" href="#symbolizers" title="Permalink to this headline">¶</a></h2>
<p>A <em>Symbolizer</em> object describes a component of a style. Types of symbolizers include fill, stroke, shape, labels, etc…</p>
<p>A style is built by composing different symbolizers together.</p>
<div class="code py highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">geoscript.style</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">geoscript.render</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">geoscript.geom</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">geoscript.feature</span> <span class="kn">import</span> <span class="o">*</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">style</span> <span class="o">=</span> <span class="n">Stroke</span><span class="p">(</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">Fill</span><span class="p">(</span><span class="s1">&#39;#ff0000&#39;</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">draw</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">style</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">mpoint</span> <span class="o">=</span> <span class="n">readWKT</span><span class="p">(</span><span class="s1">&#39;MULTIPOINT ((10 40), (40 30), (20 20), (30 10))&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">draw</span><span class="p">(</span><span class="n">mpoint</span><span class="p">,</span> <span class="n">Shape</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;triangle&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">draw</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">feature</span> <span class="o">=</span> <span class="n">Feature</span><span class="p">({</span><span class="s1">&#39;geom&#39;</span><span class="p">:</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Happy&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">draw</span><span class="p">(</span><span class="n">feature</span><span class="p">,</span> <span class="n">Icon</span><span class="p">(</span><span class="s1">&#39;smiley.png&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">Label</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;20pt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="n">anchor</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">0.25</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)))</span>
</pre></div>
</div>
<div class="code js highlight-javascript notranslate"><div class="highlight"><pre><span></span>js&gt; var {Stroke, Fill, Shape, Icon} = require(&quot;geoscript/style&quot;);

js&gt; var style = Stroke({brush: &quot;black&quot;, width: 2}).and(Fill({brush: &quot;#ff0000&quot;, opacity: 0.75}))
js&gt; style
&lt;Style parts: &lt;Stroke width: 2, opacity: 1, brush: &lt;Color value: &#39;#...&gt;

js&gt; var shape = Shape({name: &quot;triangle&quot;, size: 20})
js&gt; shape
&lt;Shape name: &#39;triangle&#39;, size: 20&gt;

js&gt; var icon = Icon(&quot;smiley.png&quot;);
</pre></div>
</div>
<div class="code groovy highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="kn">import</span> <span class="nn">geoscript.style.*</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="kn">import</span> <span class="nn">static</span> <span class="n">geoscript</span><span class="o">.</span><span class="na">render</span><span class="o">.</span><span class="na">Draw</span><span class="o">.</span><span class="na">draw</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="kn">import</span> <span class="nn">geoscript.geom.*</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="kn">import</span> <span class="nn">geoscript.feature.*</span>

<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">style</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Stroke</span><span class="o">(</span><span class="s2">&quot;black&quot;</span><span class="o">,</span><span class="mi">2</span><span class="o">)</span> <span class="o">+</span> <span class="k">new</span> <span class="n">Fill</span><span class="o">(</span><span class="s2">&quot;#ff0000&quot;</span><span class="o">,</span><span class="mf">0.75</span><span class="o">)</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">draw</span><span class="o">(</span><span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">).</span><span class="na">buffer</span><span class="o">(</span><span class="mi">1</span><span class="o">),</span> <span class="nl">style:</span> <span class="n">style</span><span class="o">)</span>

<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">mpoint</span> <span class="o">=</span> <span class="n">Geometry</span><span class="o">.</span><span class="na">fromWKT</span><span class="o">(</span><span class="s2">&quot;MULTIPOINT ((10 40), (40 30), (20 20), (30 10))&quot;</span><span class="o">)</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">draw</span><span class="o">(</span><span class="n">mpoint</span><span class="o">,</span> <span class="nl">style:</span> <span class="k">new</span> <span class="n">Shape</span><span class="o">(</span><span class="s2">&quot;red&quot;</span><span class="o">,</span><span class="mi">20</span><span class="o">,</span><span class="s2">&quot;triangle&quot;</span><span class="o">))</span>

<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">feature</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Feature</span><span class="o">([</span><span class="s2">&quot;geom&quot;</span><span class="o">:</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">),</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Happy&quot;</span><span class="o">],</span><span class="s2">&quot;happy1&quot;</span><span class="o">)</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">draw</span><span class="o">(</span><span class="n">feature</span><span class="o">,</span> <span class="nl">style:</span> <span class="k">new</span> <span class="n">Icon</span><span class="o">(</span><span class="nl">url:</span> <span class="s2">&quot;smileyface.png&quot;</span><span class="o">,</span>  <span class="nl">size:</span> <span class="mi">12</span><span class="o">)</span> <span class="o">+</span> <span class="k">new</span> <span class="n">Label</span><span class="o">(</span><span class="s2">&quot;name&quot;</span><span class="o">).</span><span class="na">font</span><span class="o">(</span><span class="nl">size:</span><span class="mi">20</span><span class="o">).</span><span class="na">point</span><span class="o">(</span><span class="nl">anchor:</span><span class="o">[-</span><span class="mf">0.25</span><span class="o">,</span><span class="mf">0.5</span><span class="o">]))</span>
</pre></div>
</div>
<img alt="../../_images/sym1.png" src="../../_images/sym1.png" />
<img alt="../../_images/sym2.png" src="../../_images/sym2.png" />
<img alt="../../_images/sym3.png" src="../../_images/sym3.png" />
<div class="refs py admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="../../py/api/style/index.html">style API reference</a>
<a class="reference external" href="../../py/api/render/index.html">render API reference</a></p>
</div>
<div class="refs js admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="../../js/api/style.html">style API reference</a></p>
</div>
</div>
<div class="section" id="thematic-styling">
<h2>Thematic Styling<a class="headerlink" href="#thematic-styling" title="Permalink to this headline">¶</a></h2>
<p>Often styling rules are created based on values for attributes in a dataset. Using the highway
layer as an example determine the space of values for the “TYPE” attribute.</p>
<div class="code py highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">geoscript.workspace</span> <span class="kn">import</span> <span class="n">PostGIS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">PostGIS</span><span class="p">(</span><span class="s1">&#39;denver&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">hwy</span> <span class="o">=</span> <span class="n">db</span><span class="p">[</span><span class="s1">&#39;highway&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hwy</span><span class="o">.</span><span class="n">schema</span>
<span class="go">highway [the_geom: MultiLineString, TYPE: str, NAME: str, ONEWAY: str, LANES: long]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">set</span><span class="p">([</span><span class="n">f</span><span class="p">[</span><span class="s1">&#39;TYPE&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">hwy</span><span class="o">.</span><span class="n">features</span><span class="p">()])</span>
<span class="go">set([u&#39;road&#39;, u&#39;bridleway&#39;, u&#39;service&#39;, u&#39;trunk&#39;, u&#39;primary_link&#39;, u&#39;unclassified&#39;, u&#39;motorway&#39;, u&#39;path&#39;, u&#39;tertiary_link&#39;, u&#39;secondary&#39;, u&#39;steps&#39;, u&#39;secondary_link&#39;, u&#39;trunk_link&#39;, u&#39;pedestrian&#39;, u&#39;footway&#39;, u&#39;residential&#39;, u&#39;primary&#39;, u&#39;tertiary&#39;, u&#39;motorway_link&#39;, u&#39;track&#39;, u&#39;crossing&#39;, u&#39;cycleway&#39;])</span>
</pre></div>
</div>
<div class="code js highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">js</span><span class="o">&gt;</span> <span class="kd">var</span> <span class="nx">PostGIS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;geoscript/workspace&quot;</span><span class="p">).</span><span class="nx">PostGIS</span>

<span class="nx">js</span><span class="o">&gt;</span> <span class="kd">var</span> <span class="nx">db</span> <span class="o">=</span> <span class="nx">PostGIS</span><span class="p">(</span><span class="s2">&quot;denver&quot;</span><span class="p">)</span>
<span class="nx">js</span><span class="o">&gt;</span> <span class="nx">db</span>
<span class="o">&lt;</span><span class="nx">PostGIS</span> <span class="p">[</span><span class="s2">&quot;census_boundaries&quot;</span><span class="p">,</span> <span class="s2">&quot;city_boundary&quot;</span><span class="p">,</span> <span class="s2">&quot;election_precincts&quot;</span><span class="p">,...</span><span class="o">&gt;</span>

<span class="nx">js</span><span class="o">&gt;</span> <span class="kd">var</span> <span class="nx">hwy</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;highway&quot;</span><span class="p">)</span>
<span class="nx">js</span><span class="o">&gt;</span> <span class="nx">hwy</span><span class="p">.</span><span class="nx">schema</span><span class="p">.</span><span class="nx">fields</span>
<span class="o">&lt;</span><span class="nx">Field</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;the_geom&quot;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="nx">MultiLineString</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="nx">Field</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;TYPE&quot;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="nb">String</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="nx">Field</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;NAME&quot;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="nb">String</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="nx">Field</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;ONEWAY&quot;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="nb">String</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="nx">Field</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;LANES&quot;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="nx">Long</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="code groovy highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="kn">import</span> <span class="nn">geoscript.workspace.PostGIS</span>

<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">db</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PostGIS</span><span class="o">(</span><span class="s2">&quot;denver&quot;</span><span class="o">,</span> <span class="nl">user:</span> <span class="s2">&quot;postgres&quot;</span><span class="o">)</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">hwy</span> <span class="o">=</span> <span class="n">db</span><span class="o">[</span><span class="s1">&#39;highway&#39;</span><span class="o">]</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">hwy</span><span class="o">.</span><span class="na">schema</span>
<span class="o">===&gt;</span> <span class="n">highway</span> <span class="nl">the_geom:</span> <span class="n">MultiLineString</span><span class="o">(</span><span class="nl">EPSG:</span><span class="mi">2877</span><span class="o">),</span> <span class="nl">TYPE:</span> <span class="n">String</span><span class="o">,</span> <span class="nl">NAME:</span> <span class="n">String</span><span class="o">,</span> <span class="nl">ONEWAY:</span> <span class="n">String</span><span class="o">,</span> <span class="nl">LANES:</span> <span class="n">Long</span>

<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">types</span> <span class="o">=</span> <span class="o">[]</span> <span class="k">as</span> <span class="n">Set</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="n">hwy</span><span class="o">.</span><span class="na">cursor</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="k">while</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span>     <span class="n">types</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="na">next</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="s2">&quot;TYPE&quot;</span><span class="o">))</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="o">}</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">c</span><span class="o">.</span><span class="na">close</span><span class="o">()</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">types</span>
<span class="o">===&gt;</span> <span class="o">[</span><span class="n">crossing</span><span class="o">,</span> <span class="n">boat</span> <span class="n">ramp</span><span class="o">,</span> <span class="n">Mine</span> <span class="n">road</span><span class="o">,</span> <span class="n">bus_guideway</span><span class="o">,</span> <span class="n">unclassified</span><span class="o">,</span> <span class="n">cycleway</span><span class="o">,</span> <span class="n">secondary</span><span class="o">,</span> <span class="n">residential</span><span class="o">;</span><span class="n">service</span><span class="o">,</span> <span class="n">drive_through</span><span class="o">,</span> <span class="n">road</span><span class="o">,</span> <span class="n">USFS</span><span class="o">,</span> <span class="kd">private</span><span class="o">,</span> <span class="n">secondary_link</span><span class="o">,</span> <span class="n">cossing</span><span class="o">,</span> <span class="n">tertiary_link</span><span class="o">,</span> <span class="n">tertiary</span><span class="o">,</span> <span class="n">pedestrian</span><span class="o">,</span> <span class="n">raceway</span><span class="o">,</span> <span class="n">trail</span><span class="o">,</span> <span class="n">primary</span><span class="o">,</span> <span class="n">path</span><span class="o">,</span> <span class="n">ford</span><span class="o">,</span> <span class="n">construction</span><span class="o">,</span> <span class="n">bridleway</span><span class="o">,</span> <span class="n">residential</span><span class="o">;</span> <span class="n">service</span><span class="o">,</span> <span class="n">track</span><span class="o">,</span> <span class="n">motorway_link</span><span class="o">,</span> <span class="n">motorway</span><span class="o">,</span> <span class="n">steps</span><span class="o">,</span> <span class="n">footway</span><span class="o">,</span> <span class="n">trunk_link</span><span class="o">,</span> <span class="n">yes</span><span class="o">,</span> <span class="n">primary_link</span><span class="o">,</span> <span class="n">trunk</span><span class="o">,</span> <span class="n">service</span><span class="o">,</span> <span class="n">residential</span><span class="o">;</span><span class="n">tertiary</span><span class="o">,</span> <span class="n">living_street</span><span class="o">,</span> <span class="n">abandoned</span><span class="o">]</span>
</pre></div>
</div>
<p>Create styling rules to style “primary” and “secondary” highways.</p>
<div class="code py highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">style</span> <span class="o">=</span> <span class="p">(</span><span class="n">Stroke</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="n">Label</span><span class="p">(</span><span class="s1">&#39;NAME&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">linear</span><span class="p">())</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s2">&quot;TYPE = &#39;primary&#39; OR TYPE = &#39;secondary&#39;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">draw</span><span class="p">(</span><span class="n">hwy</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;mapwindow&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="code js highlight-javascript notranslate"><div class="highlight"><pre><span></span>js&gt; var viewer = require(&quot;geoscript/viewer&quot;);
js&gt; var {Stroke, Label} = require(&quot;geoscript/style&quot;);

js&gt; hwy.style = Stroke({width: 5}).and(Label(&quot;NAME&quot;)).where(&quot;TYPE = &#39;primary&#39; OR TYPE = &#39;secondary&#39;&quot;)
&lt;Style parts: &lt;Stroke width: 5, opacity: 1, brush: &lt;Color value: &#39;#...&gt;

js&gt; viewer.draw(hwy)
</pre></div>
</div>
<div class="code groovy highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">hwy</span><span class="o">.</span><span class="na">style</span> <span class="o">=</span> <span class="o">(</span><span class="k">new</span> <span class="n">Stroke</span><span class="o">(</span><span class="nl">width:</span><span class="mi">5</span><span class="o">)</span> <span class="o">+</span> <span class="k">new</span> <span class="n">Label</span><span class="o">(</span><span class="s2">&quot;NAME&quot;</span><span class="o">).</span><span class="na">linear</span><span class="o">()).</span><span class="na">where</span><span class="o">(</span><span class="s2">&quot;TYPE = &#39;primary&#39; OR TYPE = &#39;secondary&#39;&quot;</span><span class="o">)</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">draw</span><span class="o">(</span><span class="n">hwy</span><span class="o">)</span>
</pre></div>
</div>
<p>In the above the <em>where</em> method is used to provide a filter/predicate that constrains what the
rule should apply too.</p>
<img alt="../../_images/theme1.jpg" src="../../_images/theme1.jpg" />
<p>The result is not very visually appealing. Create a more visually appealing style.</p>
<div class="code py highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">label</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="s1">&#39;NAME&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;bold Arial 12pt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">linear</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">style</span> <span class="o">=</span> <span class="p">(</span><span class="n">Stroke</span><span class="p">(</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="n">label</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s2">&quot;TYPE = &#39;primary&#39; OR TYPE = &#39;secondary&#39;&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">style</span> <span class="o">+=</span> <span class="n">Stroke</span><span class="p">(</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s2">&quot;TYPE = &#39;primary&#39; OR TYPE = &#39;secondary&#39;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">zindex</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">draw</span><span class="p">(</span><span class="n">hwy</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;mapwindow&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="code js highlight-javascript notranslate"><div class="highlight"><pre><span></span>js&gt; hwy.style = Stroke({brush: &quot;gray&quot;, width: 5}).and(Label({fontFamily: &quot;Arial&quot;, fontSize: 12, fontWeight: &quot;bold&quot;})).where(&quot;TYPE = &#39;primary&#39; OR TYPE = &#39;secondary&#39;&quot;)
&lt;Style parts: &lt;Stroke width: 5, opacity: 1, brush: &lt;Color value: &#39;#...&gt;
js&gt; viewer.draw(hwy)
</pre></div>
</div>
<div class="code groovy highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">label</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Label</span><span class="o">(</span><span class="s2">&quot;NAME&quot;</span><span class="o">).</span><span class="na">font</span><span class="o">(</span><span class="nl">weight:</span> <span class="s2">&quot;bold&quot;</span><span class="o">,</span> <span class="nl">family:</span> <span class="s2">&quot;Arial&quot;</span><span class="o">,</span> <span class="nl">size:</span><span class="mi">12</span><span class="o">).</span><span class="na">linear</span><span class="o">(</span><span class="nl">group:</span> <span class="kc">true</span><span class="o">,</span> <span class="nl">follow:</span><span class="kc">true</span><span class="o">,</span> <span class="nl">offset:</span> <span class="mi">10</span><span class="o">)</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">style</span> <span class="o">=</span> <span class="o">(</span><span class="k">new</span> <span class="n">Stroke</span><span class="o">(</span><span class="s2">&quot;gray&quot;</span><span class="o">,</span> <span class="mi">5</span><span class="o">)</span> <span class="o">+</span> <span class="n">label</span><span class="o">).</span><span class="na">where</span><span class="o">(</span><span class="s2">&quot;TYPE = &#39;primary&#39; OR TYPE = &#39;secondary&#39;&quot;</span><span class="o">)</span>

<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">style</span> <span class="o">+=</span> <span class="k">new</span> <span class="n">Stroke</span><span class="o">(</span><span class="s2">&quot;white&quot;</span><span class="o">,</span> <span class="mi">3</span><span class="o">).</span><span class="na">where</span><span class="o">(</span><span class="s2">&quot;TYPE = &#39;primary&#39; OR TYPE = &#39;secondary&#39;&quot;</span><span class="o">).</span><span class="na">zindex</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">hwy</span><span class="o">.</span><span class="na">style</span> <span class="o">=</span> <span class="n">style</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">draw</span><span class="o">(</span><span class="n">hwy</span><span class="o">)</span>
</pre></div>
</div>
<p>Above a second stroke was added in order to render a second (slightly) thinner line on top of the existing line. The second stroke is given a <em>z-index</em> of 1 to force it to be drawn
on top of the first stroke, creating a “line-casing” affect.</p>
<p>Now add another rule that encompasses the rest of the roads.</p>
<div class="code py highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">style</span> <span class="o">+=</span> <span class="n">Stroke</span><span class="p">(</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">draw</span><span class="p">(</span><span class="n">hwy</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;mapwindow&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="code groovy highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">hwy</span><span class="o">.</span><span class="na">style</span> <span class="o">+=</span> <span class="k">new</span> <span class="n">Stroke</span><span class="o">(</span><span class="s2">&quot;gray&quot;</span><span class="o">,</span><span class="mi">1</span><span class="o">)</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">draw</span><span class="o">(</span><span class="n">hwy</span><span class="o">)</span>
</pre></div>
</div>
<img alt="../../_images/theme2.jpg" src="../../_images/theme2.jpg" />
<div class="refs py admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="../../py/api/style/index.html">style API reference</a>
<a class="reference external" href="../../py/api/render/index.html">render API reference</a></p>
</div>
<div class="refs js admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="../../js/api/style.html">style API reference</a></p>
</div>
<div class="refs groovy admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="../../groovy/api/geoscript/style/package-summary.html">style API reference</a>
<a class="reference external" href="../../groovy/api/geoscript/render/package-summary.html">render API reference</a></p>
</div>
</div>
<div class="section" id="scale-dependant-rendering">
<h2>Scale Dependant Rendering<a class="headerlink" href="#scale-dependant-rendering" title="Permalink to this headline">¶</a></h2>
<p>The style created in the previous section is two crowded and clearly lacks some scale rules to
constrain the data drawn at various map scales.</p>
<p>Modify the styles so that non primary roads show up at scales smaller than 1:100K. At scales smaller than 1:25K add labels to the non primary/secondary roads.</p>
<div class="code py highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">label</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="s1">&#39;NAME&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;bold Arial 12pt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">linear</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">style</span> <span class="o">=</span> <span class="p">(</span><span class="n">Stroke</span><span class="p">(</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="n">label</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s2">&quot;TYPE = &#39;primary&#39; OR TYPE = &#39;secondary&#39;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">style</span> <span class="o">+=</span> <span class="n">Stroke</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s2">&quot;TYPE = &#39;primary&#39; OR TYPE = &#39;secondary&#39;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">zindex</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="go"># add non primary/secondary roads at scale &lt; 1:100K</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">style</span> <span class="o">+=</span> <span class="n">Stroke</span><span class="p">(</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="mi">100000</span><span class="p">)</span>

<span class="go"># add label at scale &lt; 1:25K</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">style</span> <span class="o">+=</span> <span class="n">Label</span><span class="p">(</span><span class="s1">&#39;NAME&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;bold Arial 12pt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">linear</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="mi">25000</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">draw</span><span class="p">(</span><span class="n">hwy</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;mapwindow&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="code groovy highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">hwy</span><span class="o">.</span><span class="na">style</span> <span class="o">+=</span> <span class="k">new</span> <span class="n">Stroke</span><span class="o">(</span><span class="s2">&quot;gray&quot;</span><span class="o">,</span><span class="mi">1</span><span class="o">)</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">draw</span><span class="o">(</span><span class="n">hwy</span><span class="o">)</span>

<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">label</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Label</span><span class="o">(</span><span class="s2">&quot;NAME&quot;</span><span class="o">).</span><span class="na">font</span><span class="o">(</span><span class="nl">weight:</span><span class="s2">&quot;bold&quot;</span><span class="o">,</span> <span class="nl">family:</span><span class="s2">&quot;Arial&quot;</span><span class="o">,</span> <span class="nl">size:</span><span class="mi">12</span><span class="o">).</span><span class="na">linear</span><span class="o">(</span><span class="nl">group:</span><span class="kc">true</span><span class="o">,</span> <span class="nl">follow:</span><span class="kc">true</span><span class="o">,</span> <span class="nl">offset:</span><span class="mi">10</span><span class="o">)</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">style</span> <span class="o">=</span> <span class="o">(</span><span class="k">new</span> <span class="n">Stroke</span><span class="o">(</span><span class="s2">&quot;gray&quot;</span><span class="o">,</span> <span class="mi">5</span><span class="o">)</span> <span class="o">+</span> <span class="n">label</span><span class="o">).</span><span class="na">where</span><span class="o">(</span><span class="s2">&quot;TYPE = &#39;primary&#39; OR TYPE = &#39;secondary&#39;&quot;</span><span class="o">)</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">style</span> <span class="o">+=</span> <span class="k">new</span> <span class="n">Stroke</span><span class="o">(</span><span class="s2">&quot;white&quot;</span><span class="o">,</span> <span class="mi">3</span><span class="o">).</span><span class="na">where</span><span class="o">(</span><span class="s2">&quot;TYPE = &#39;primary&#39; OR TYPE = &#39;secondar&#39;&quot;</span><span class="o">).</span><span class="na">zindex</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>

<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">style</span> <span class="o">+=</span> <span class="k">new</span> <span class="n">Stroke</span><span class="o">(</span><span class="s2">&quot;gray&quot;</span><span class="o">,</span> <span class="mi">1</span><span class="o">).</span><span class="na">range</span><span class="o">(-</span><span class="mi">1</span><span class="o">,</span> <span class="mi">100000</span><span class="o">)</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">style</span> <span class="o">+=</span> <span class="k">new</span> <span class="n">Label</span><span class="o">(</span><span class="s2">&quot;NAME&quot;</span><span class="o">).</span><span class="na">font</span><span class="o">(</span><span class="nl">weight:</span><span class="s2">&quot;bold&quot;</span><span class="o">,</span> <span class="nl">family:</span><span class="s2">&quot;Arial&quot;</span><span class="o">,</span> <span class="nl">size:</span><span class="mi">12</span><span class="o">).</span><span class="na">linear</span><span class="o">(</span><span class="nl">group:</span><span class="kc">true</span><span class="o">,</span> <span class="nl">follow:</span><span class="kc">true</span><span class="o">,</span> <span class="nl">offset:</span><span class="mi">10</span><span class="o">).</span><span class="na">range</span><span class="o">(-</span><span class="mi">1</span><span class="o">,</span> <span class="mi">25000</span><span class="o">)</span>

<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="n">hwy</span><span class="o">.</span><span class="na">style</span> <span class="o">=</span> <span class="n">style</span>
<span class="nl">groovy:</span><span class="mi">000</span><span class="o">&gt;</span> <span class="k">new</span> <span class="n">MapWindow</span><span class="o">(</span><span class="k">new</span> <span class="n">Map</span><span class="o">(</span><span class="nl">layers:</span> <span class="o">[</span><span class="n">hwy</span><span class="o">]))</span>
</pre></div>
</div>
<p class="code py">The <em>range</em> function is used to apply scale constraints to a symbolizer. Values are specified as
scale denominators.</p>
<img alt="../../_images/scale.jpg" src="../../_images/scale.jpg" />
</div>
</div>


          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
            <li class="right" style="margin-right: 10px">
              <a href="../../genindex.html" title="General Index"
                 accesskey="I">index</a></li>
            <li class="right" >
              <a href="../../get_involved.html" title="Getting Involved"
                 accesskey="N">next</a> |</li>
            <li class="right" >
              <a href="../data-basic/index.html" title="Layers and Workspaces"
                 accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">GeoScript</a> &#187;</li>
            <li><a href="../index.html" accesskey="U">GeoScript Tutorials</a> &#187;</li>
        <li><a href="#">GeoScript</a></li>
      </ul>
    </div>

<div class="footer">
    <a rel="license" href="http://creativecommons.org/licenses/by/3.0/us/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/us/80x15.png" /></a>
      &copy; Copyright 2020, Jared Erickson.
</div>

  </body>
</html>